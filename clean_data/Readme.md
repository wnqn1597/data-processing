# 维基百科数据清洗

## 运行

运行 `main.py`

## 依赖

```
opencc==0.1.7
simhash==2.1.2
pybloom-live==4.0.0
```
## 清洗策略

- 提取xml中的id，title，与text标签中的文本内容
- 跳过redirect（重定向）词条
- 跳过Category，Template，Wikipedia，File等词条
- 繁体中文转简体
- 去除链接与表格
- 将粗体斜体规范化
- 处理html转义符
- 去除html标签，保留纯文本
- 规范标点括号中英文格式
- 将多个空格与制表符转换为单空格
- 去除无关文本（参考文献，链接）
- 处理标题列表（markdown形式）
- 过滤中文字符比例小于50%的文本
- 去除长度少于10个汉字的文本
- 去除标点符号比例高于20%的文本
- 去除存在连续10个以上非中文字符的文本
- 使用Bloom Filter去重

## 清洗后数据样例

- 1,000条数据 `data.jsonl`